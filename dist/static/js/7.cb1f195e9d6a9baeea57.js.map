{"version":3,"sources":["webpack:///src/components/categories/categories.vue","webpack:///./src/components/categories/categories.vue?616b","webpack:///./src/components/categories/categories.vue"],"names":["categories","data","tableData","pageList","total","pageSize","currentPage","pageSizeArr","methods","getAllCategories","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","result","_result$data","meta","wrap","_context","prev","next","$http","get","sent","status","length","getPageList","$message","error","msg","stop","start","end","slice","currentChange","val","sizeChange","created","components","breadNav","categories_categories","render","_vm","_h","$createElement","_c","_self","attrs","nav1","nav2","_v","staticClass","type","plain","staticStyle","width","file-icon","folder-icon","prop","label","treeKey","parentKey","levelKey","scopedSlots","_u","key","fn","scope","_s","row","cat_level","cat_deleted","icon","size","layout","page-size","current-page","page-sizes","on","current-change","size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.cb1f195e9d6a9baeea57.js","sourcesContent":["<template>\n  <el-card>\n    <!--面包屑导航-->\n    <breadNav :nav1=\"'商品管理'\" :nav2=\"'商品分类'\"/>\n    <!--添加分类按钮-->\n    <el-row class=\"addBtnRow\">\n      <el-col>\n        <el-button type=\"success\" plain>添加分类</el-button>\n      </el-col>\n    </el-row>\n    <!--表格数据-->\n    <el-table :data=\"pageList\" style=\"width: 100%\">\n      <!--element-tree-grid插件-->\n      <!--treeKey=\"cat_id\"      当前数据的唯一标识  -->\n      <!--parentKey=\"cat_pid\"   当前元素的父元素   -->\n      <!--levelKey=\"cat_level\"  当前元素的级别-->\n      <el-table-tree-column\n        file-icon=\"icon icon-file\"\n        folder-icon=\"icon icon-folder\"\n        prop=\"cat_name\" label=\"分类名称\"\n        treeKey=\"cat_id\" parentKey=\"cat_pid\" levelKey=\"cat_level\"\n      ></el-table-tree-column>\n      <el-table-column label=\"级别\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.cat_level === 0 ? '一级' : scope.row.cat_level === 1 ? '二级' : '三级'}}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"cat_deleted\" label=\"是否有效\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.cat_deleted ? '无效': '有效' }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" icon=\"el-icon-edit\" plain size=\"mini\"></el-button>\n          <el-button type=\"danger\" icon=\"el-icon-delete\" plain size=\"mini\"></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--分页组件-->\n    <el-pagination\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\"\n      :page-size=\"pageSize\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"pageSizeArr\"\n\n      @current-change=\"currentChange\"\n      @size-change=\"sizeChange\"\n    >\n    </el-pagination>\n  </el-card>\n</template>\n\n<script>\n  //引入面包屑导航\n  import breadNav from '../layout/breadNav/breadNav'\n\n  export default {\n    data() {\n      return {\n        tableData: [], //所有商品分类数据\n        //分页组件相关---------------------\n        pageList: [], //分页的数据源\n        total: 0, //数据的总数\n        pageSize: 5, //页容量\n        currentPage: 1,//当前页\n        pageSizeArr: [5, 10, 15], //所有可选的页容量\n      }\n    },\n    methods: {\n      //获取所有商品分类的数据\n      async getAllCategories() {\n        let result = await this.$http.get(`categories`);\n        let {data, meta} = result.data;\n        if (meta.status === 200) {\n          this.tableData = data;\n\n          //得到数据的总条数\n          this.total = data.length;\n          //第一次得到分页数据\n          this.getPageList();\n\n        } else {\n          this.$message.error(meta.msg);\n        }\n      },\n      //分页相关-----------------------\n      //得到分页的数据源\n      getPageList() {\n        //计算开始和结束的数据\n        /*\n        * console.log(this.tableData, start, end);\n        * 第1页 显示的数据 0-5   数组的slice切割方法 (0,5)   实际是0-4   不包括5\n        * 第2页 显示的数据 5-10  数组的slice切割方法 (5,10)  实际是5-9   不包括10\n        * 第3页 显示的数据 10-15 数组的slice切割方法 (10,15) 实际是10-14 不包括15\n        * 以此类推......\n        * */\n        //   开始 =          当前页 - 1       *  页容量\n        let start = (this.currentPage - 1) * this.pageSize;\n        //   结束 =   当前页       *  页容量\n        let end = this.currentPage * this.pageSize;\n\n        //分页的数据源\n        this.pageList = this.tableData.slice(start, end);\n      },\n      //当当前页发生改变时触发\n      currentChange(val) {\n        //console.log(val); //改变的当前页\n\n        //修改当前页\n        this.currentPage = val;\n        //重新获取分页数据\n        this.getPageList();\n\n      },\n      //当页容量发生改变时触发\n      sizeChange(val) {\n        //console.log(val); //修改之后的页容量\n\n        //修改页容量\n        this.pageSize = val;\n        //重新获取分页数据\n        this.getPageList();\n\n      }\n    },\n    created() {\n      this.getAllCategories();\n    },\n    components: {\n      breadNav\n    }\n  }\n</script>\n\n<style scoped>\n  .addBtnRow {\n    margin-top: 10px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/categories/categories.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',[_c('breadNav',{attrs:{\"nav1\":'商品管理',\"nav2\":'商品分类'}}),_vm._v(\" \"),_c('el-row',{staticClass:\"addBtnRow\"},[_c('el-col',[_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"}},[_vm._v(\"添加分类\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.pageList}},[_c('el-table-tree-column',{attrs:{\"file-icon\":\"icon icon-file\",\"folder-icon\":\"icon icon-folder\",\"prop\":\"cat_name\",\"label\":\"分类名称\",\"treeKey\":\"cat_id\",\"parentKey\":\"cat_pid\",\"levelKey\":\"cat_level\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"级别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.cat_level === 0 ? '一级' : scope.row.cat_level === 1 ? '二级' : '三级')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cat_deleted\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.cat_deleted ? '无效': '有效')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"plain\":\"\",\"size\":\"mini\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"plain\":\"\",\"size\":\"mini\"}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"page-size\":_vm.pageSize,\"current-page\":_vm.currentPage,\"page-sizes\":_vm.pageSizeArr},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ce52b18\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/categories/categories.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ce52b18\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./categories.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./categories.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./categories.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ce52b18\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./categories.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6ce52b18\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/categories/categories.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}